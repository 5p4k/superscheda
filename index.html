<!--
  Superscheda
 Copyright (C) 2017  Pietro Saccardi

This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

You should have received a copy of the GNU General Public License
 along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <title>Superscheda</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <script src="https://unpkg.com/dropbox/dist/Dropbox-sdk.min.js"></script>

    <script src="tree.js"></script>
    <script src="controller.js"></script>
    <style>
      #tbox_txt { font-family: monospace; }
    </style>
    <script>
      DD = new Controller('o5r7pjkfba22ymd');

      $(function() {

        DD.setup();

        $('#tbox_highlight_missing_id').click(function() {
          $('input').not('[data-dd-id]').addClass('is-invalid');
        });

        $('#tbox_show_hpath').click(function() {
          $('input[data-dd-id]').each(function (i, obj) {
            $(obj).attr('title', DD._getHierPath(obj));
            $(obj).data('toggle', 'tooltip');
            $(obj).tooltip();
          })
        });

        $('#tbox_load_repr').click(function() {
          DD.updateHier();
          $('#tbox_txt').val(DD.data.dump());
        });

        $('#tbox_dump_repr').click(function() {
          DD.data.load($('#tbox_txt').val());
          DD.updateForm();
        });

        $('#tbox_test_alert').click(function() {
          DD.notify('warning', 'Test!');
        });

        $('#tbox_find_duplicates').click(function() {
          var all_dd_paths = [];
          var duplicates = [];
          $('[data-dd-path]').each(function(idx, obj) {
            all_dd_paths.push($(obj).data('dd-path'));
          });
          all_dd_paths.sort();
          for (var i = 1; i < all_dd_paths.length; ++i) {
            if (all_dd_paths[i - 1] == all_dd_paths[i]) {
              if (duplicates.length == 0 || duplicates[duplicates.length - 1] != all_dd_paths[i]) {
                duplicates.push(all_dd_paths[i]);
              }
            }
          }
          if (duplicates.length == 0) {
            DD.notify('success',
              'There are ' + all_dd_paths.length.toString() + ' identified unique controls. No duplicates.');
          } else {
            $('<pre></pre>').text(duplicates.join('\n')).appendTo(
              DD.notify('danger',
              'There are ' + all_dd_paths.length.toString() + ' identified controls, ' + duplicates.length.toString() + ' of them are duplicated.')
            );
          }
        });

      });
    </script>
    <style>
      *[data-dd-array="item"] ~ .array-placeholder { display: none!important; }
      .btn-custom-checkbox > img { width: 1.3em; }
      .btn-custom-checkbox input[type="checkbox"] {
        display: none!important;
      }
      .btn-custom-checkbox > input[type="checkbox"]:checked ~ .toggle-inactive {
        display: none!important;
      }
      .btn-custom-checkbox > input[type="checkbox"]:not(:checked) ~ .toggle-active {
        display: none!important;
      }
      .btn-custom-checkbox > input[type="checkbox"]:not(:checked) ~ .toggle-inactive {
        opacity: 0.5;
      }
      .input-group-sm .dropdown-item {
        font-size: .875rem;
        line-height: 1.5;
        padding: .25rem 1rem;
      }
      .input-group-sm .dropdown-menu {
        padding-top: .25rem;
        padding-bottom: .25rem;
        min-width: 5rem;
      }
      .dropdown-toggle input[type="text"] {
        padding: 0;
        margin: 0;
        border: none;
        min-width: unset;
        width: 1.8rem;
        background: none;
      }
      .input-group-btn.show .btn-addon, .input-group-btn .btn-addon:focus {
        z-index: 4;
      }
      .input-group-btn .btn-addon, .input-group-btn .btn-addon {
        z-index: 0;
      }
      .input-group-btn .btn-addon:hover:not(:focus), .input-group-btn .btn-addon:hover:not(:focus) {
        z-index: 0;
      }
      .btn-custom-checkbox i.fa {
        width: 1rem;
        text-align: left;
      }
      .btn-addon:hover {
        color: #000;
        background-color: #dae0e5;
      }
      .dropdown-toggle:hover input[type="text"] {
        color: #000;
      }
      .input-group .input-group-btn:first-child .btn-addon:not(.dropdown-toggle) {
        margin-right: -1px!important;
      }
      .input-group .input-group-btn:last-child .btn-addon:not(.dropdown-toggle) {
        margin-left: -1px!important;
      }
      .btn-addon, .btn-addon input {
        background-color: rgb(233, 236, 239);
        border-color: rgb(206, 212, 218);
        color: rgb(73, 80, 87);
      }
      .btn-addon:focus {
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, .25);
        border-color: rgb(128, 189, 255);
      }
      i.fa.fa-copyright {
        font-size: 1.3rem;
        vertical-align: -0.15rem;
      }
      .separatable:not(:last-of-type) {
        border-right: 1px solid rgb(233, 236, 239);
      }
      .simulate-alloc-float-right {
        position: relative;
        padding-right: 2rem;
      }
      .simulate-float-right {
        position: absolute;
        right: 0;
        height: 100%;
        width: 2rem;
        text-align: right;
      }
      .simulate-va-middle {
        position: relative;
        top: 50%;
        transform: translateY(-50%);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 class="my-3"><img src="superscheda.svg" class="float-right ml-3" alt="Superscheda Logo" style="width: 3em;">Scheda D&amp;D 3.5 <span class="badge badge-primary">Beta</span></h1>

      <div class="row mb-3">
        <div class="col-md-12">
          <button class="btn btn-outline-primary mr-1 d-none" disabled type="button" data-toggle="modal" data-target="#auth_dbx">Accedi a <i class="fa fa-dropbox" aria-hidden="true"></i></button>
          <button class="btn btn-outline-primary mr-1" disabled type="button" data-toggle="modal" data-target="#load_from"><i class="fa fa-folder-open-o" aria-hidden="true"></i></button>
          <button class="btn btn-outline-primary mr-1" disabled type="button" data-toggle="modal" data-target="#save_to"><i class="fa fa-floppy-o" aria-hidden="true"></i></button>
        </div>
      </div>


      <div class="modal fade" tabindex="-1" role="dialog" id="save_to" aria-labelledby="save_to_title" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title" id="save_to_title">Salva su <i class="fa fa-dropbox" aria-hidden="true"></i></h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <form novalidate>
              <div class="modal-body">
                <div class="form-group row">
                  <label class="col-sm-2 col-form-label">File: </label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" placeholder="file.json" required pattern=".+\.json">
                    <div class="invalid-feedback">
                      Il file deve avere estensione JSON.
                    </div>
                  </div>
                </div>
                <hr>
                <div class="dropbox-file-list"></div>
              </div>
              <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Salva</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Chiudi</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div class="modal fade" tabindex="-1" role="dialog" id="auth_dbx" aria-labelledby="auth_dbx_title" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title" id="auth_dbx_title"><i class="fa fa-dropbox" aria-hidden="true"></i> Accesso a Dropbox</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>
                Superscheda usa Dropbox per salvare e caricare i contenuti.
                Puoi usare la pagina anche senza accedere a Dropbox, ma non potrai salvare le modifiche.
              </p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Ignora</button>
              <a href="#" class="btn btn-primary">Accedi a Dropbox</a>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" tabindex="-1" role="dialog" id="load_from" aria-labelledby="load_from_title" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title" id="load_from_title">Carica da <i class="fa fa-dropbox" aria-hidden="true"></i></h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body dropbox-file-list"></div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Chiudi</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" tabindex="-1" role="dialog" id="waiting" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="my-0 h-100 d-flex align-items-center justify-content-center">
          <div class="modal-dialog text-light" role="document">
            <i class="fa fa-spinner fa-spin fa-5x"></i>
          </div>
        </div>
      </div>




      <div class="row">
        <div class="col-md-12" role="tablist">













          <div class="card">
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_base" aria-expanded="true" aria-controls="card_base">
              <h4 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Base
              </h4>
            </div>
            <div class="collapse show" id="card_base">
              <div class="card-body">
                <div class="form-row">
                  <div class="col-md-3 form-group mb-1">
                    <div class="text-truncate">
                      <label class="col-form-label">Nome del personaggio</label>
                    </div>
                    <input type="text" class="form-control" data-dd-id="nome">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Razza</label>
                    <input type="text" class="form-control" data-dd-id="razza">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Archetipo 1</label>
                    <input type="text" class="form-control" data-dd-id="archetipo[0]">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Archetipo 2</label>
                    <input type="text" class="form-control" data-dd-id="archetipo[1]">
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-md-3 form-group mb-1">
                    <div class="text-truncate">
                      <label class="col-form-label">Nome del giocatore</label>
                    </div>
                    <input type="text" class="form-control" data-dd-id="giocatore">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Classe</label>
                    <input type="text" class="form-control" data-dd-id="classe[0]">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Classe/CdP</label>
                    <input type="text" class="form-control" data-dd-id="classe[1]">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Classe/CdP</label>
                    <input type="text" class="form-control" data-dd-id="classe[2]">
                  </div>
                </div>

                <div class="form-row" data-dd-id="png">
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Classe da PNG</label>
                    <input type="text" class="form-control" data-dd-id="classe[0]">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Classe/CdP</label>
                    <input type="text" class="form-control" data-dd-id="classe[1]">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Classe/CdP</label>
                    <input type="text" class="form-control" data-dd-id="classe[2]">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Classe/CdP</label>
                    <input type="text" class="form-control" data-dd-id="classe[3]">
                  </div>
                </div>


                <div class="form-row">
                  <div class="col-md-3">
                    <div class="form-row">
                      <div class="col-md-6 form-group mb-1">
                        <label class="col-form-label">Taglia</label>
                        <input type="text" class="form-control" data-dd-id="taglia">
                      </div>
                      <div class="col-md-6 form-group mb-1">
                        <label class="col-form-label">Altezza</label>
                        <input type="text" class="form-control" data-dd-id="altezza">
                      </div>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-row">
                      <div class="col-md-6 form-group mb-1">
                        <label class="col-form-label">Peso</label>
                        <input type="text" class="form-control" data-dd-id="peso">
                      </div>
                      <div class="col-md-6 form-group mb-1">
                        <label class="col-form-label">Occhi</label>
                        <input type="text" class="form-control" data-dd-id="occhi">
                      </div>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-row">
                      <div class="col-md-6 form-group mb-1">
                        <label class="col-form-label">Capelli</label>
                        <input type="text" class="form-control" data-dd-id="capelli">
                      </div>
                      <div class="col-md-6 form-group mb-1">
                        <label class="col-form-label">Pelle</label>
                        <input type="text" class="form-control" data-dd-id="pelle">
                      </div>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-row">
                      <div class="col-md-6 form-group mb-1">
                        <label class="col-form-label">Età</label>
                        <input type="text" class="form-control" data-dd-id="eta">
                      </div>
                      <div class="col-md-6 form-group mb-1">
                        <label class="col-form-label">Sesso</label>
                        <input type="text" class="form-control" data-dd-id="sesso">
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-md-6 form-group mb-1">
                    <label class="col-form-label">Segni particolari</label>
                    <input type="text" class="form-control" data-dd-id="segni_particolari">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Divinità</label>
                    <input type="text" class="form-control" data-dd-id="divinita">
                  </div>
                  <div class="col-md-3 form-group mb-1">
                    <label class="col-form-label">Allineamento/CdP</label>
                    <input type="text" class="form-control" data-dd-id="allineamento">
                  </div>
                </div>
              </div>
            </div>
          </div>





          <div class="card">
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_caratteristiche" aria-expanded="true" aria-controls="card_caratteristiche">
              <h4 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Caratteristiche
              </h4>
            </div>
            <div class="collapse show" id="card_caratteristiche">
              <div class="card-body">
                <table class="table table-striped table-sm table-responsive mb-1" data-dd-id="caratteristiche">
                  <thead>
                    <tr>
                      <th></th>
                      <th class="text-center">TB</th>
                      <th class="text-center">Razza</th>
                      <th class="text-center">Arch&nbsp;1</th>
                      <th class="text-center">Arch&nbsp;2</th>
                      <th class="text-center">Lvl</th>
                      <th class="text-center">Magia</th>
                      <th class="text-center">VV1</th>
                      <th class="text-center">VV2</th>
                      <th class="text-center">Tot</th>
                      <th class="text-center">Tmp</th>
                      <th class="text-center">M&nbsp;Tot</th>
                      <th class="text-center">M&nbsp;Tmp</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr data-dd-id="for">
                      <th scope="row" class="text-right align-middle px-3">For</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="des">
                      <th scope="row" class="text-right align-middle px-3">Des</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="cos">
                      <th scope="row" class="text-right align-middle px-3">Cos</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="int">
                      <th scope="row" class="text-right align-middle px-3">Int</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="sag">
                      <th scope="row" class="text-right align-middle px-3">Sag</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="car">
                      <th scope="row" class="text-right align-middle px-3">Car</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>






          <div class="card">
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_tiri_salvezza" aria-expanded="true" aria-controls="card_tiri_salvezza">
              <h4 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Tiri salvezza
              </h4>
            </div>
            <div class="collapse show" id="card_tiri_salvezza">
              <div class="card-body">
                <table class="table table-striped table-sm table-responsive mb-1" data-dd-id="tiro_salvezza">
                  <thead>
                    <tr>
                      <th></th>
                      <th class="text-center">M&nbsp;Car</th>
                      <th class="text-center">Classe</th>
                      <th class="text-center">Razza</th>
                      <th class="text-center">Arch&nbsp;1</th>
                      <th class="text-center">Arch&nbsp;2</th>
                      <th class="text-center">Magia</th>
                      <th class="text-center">VV&nbsp;1</th>
                      <th class="text-center">VV&nbsp;2</th>
                      <th class="text-center">M&nbsp;Spec</th>
                      <th class="text-center">Tot</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr data-dd-id="tempra_cos">
                      <th scope="row">Tempra<sup>Cos</sup></th>
                      <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="tempra_des">
                      <th scope="row">Tempra<sup>Des</sup></th>
                      <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="riflessi_des">
                      <th scope="row">Riflessi<sup>Des</sup></th>
                      <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="volonta_sag">
                      <th scope="row">Volontà<sup>Sag</sup></th>
                      <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="volonta_car">
                      <th scope="row">Volontà<sup>Car</sup></th>
                      <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="volonta_int">
                      <th scope="row">Volontà<sup>Int</sup></th>
                      <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>



















          <div class="card">
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_competenze" aria-expanded="true" aria-controls="card_competenze">
              <h4 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Competenze, linguaggi e visione
              </h4>
            </div>
            <div class="collapse show" id="card_competenze">
              <div class="card-body">
                <div class="row">
                  <div class="col-md-4 separatable">
                    <h5 class="text-truncate">Competenze in armi e armature</h5>
                    <div data-dd-array="container">
                      <div class="form-row mb-1 d-none" data-dd-array="master" data-dd-id="competenze">
                        <div class="input-group input-group-sm mb-0 col-11">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="form-row mb-1" data-dd-array="item" data-dd-id="competenze" data-dd-index="0">
                        <div class="input-group input-group-sm mb-0 col-11">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome" value="Armature leggere">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="form-row mb-1" data-dd-array="item" data-dd-id="competenze" data-dd-index="1">
                        <div class="input-group input-group-sm mb-0 col-11">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome" value="Armature medie">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="form-row mb-1" data-dd-array="item" data-dd-id="competenze" data-dd-index="2">
                        <div class="input-group input-group-sm mb-0 col-11">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome" value="Armature pesanti">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="form-row mb-1" data-dd-array="item" data-dd-id="competenze" data-dd-index="3">
                        <div class="input-group input-group-sm mb-0 col-11">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome" value="Armi semplici">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="form-row mb-1" data-dd-array="item" data-dd-id="competenze" data-dd-index="4">
                        <div class="input-group input-group-sm mb-0 col-11">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome" value="Armi da guerra">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="form-row mb-1" data-dd-array="item" data-dd-id="competenze" data-dd-index="5">
                        <div class="input-group input-group-sm mb-0 col-11">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome" value="Scudi">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Incompetente.</small>
                      </p>
                      <p class="form-text text-center">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fa fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                  <div class="col-md-4 separatable">
                    <div class="form-check form-check-inline float-right mb-0">
                      <label class="form-check-label">
                        <input class="form-check-input" type="checkbox" data-dd-id="sa_leggere">
                        Sa leggere
                      </label>
                    </div>
                    <h5 class="text-truncate">Linguaggi</h5>
                    <div data-dd-array="container">
                      <div class="form-row mb-1 d-none" data-dd-array="master" data-dd-id="linguaggi">
                        <div class="input-group input-group-sm mb-0 col-11">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Muto.</small>
                      </p>
                      <p class="form-text text-center">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fa fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <h5>Visione</h5>
                    <div data-dd-array="container">
                      <div class="form-row mb-1 d-none" data-dd-array="master" data-dd-id="visione">
                        <div class="input-group input-group-sm mb-0 col-8">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome">
                        </div>
                        <div class="input-group input-group-sm mb-0 col-3">
                          <input type="text" class="form-control" data-dd-id="distanza">
                          <span class="input-group-addon">m</span>
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="form-row mb-1" data-dd-array="item" data-dd-id="visione" data-dd-index="0">
                        <div class="input-group input-group-sm mb-0 col-8">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome" value="Crepuscolare">
                        </div>
                        <div class="input-group input-group-sm mb-0 col-3">
                          <input type="text" class="form-control" data-dd-id="distanza">
                          <span class="input-group-addon">m</span>
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="form-row mb-1" data-dd-array="item" data-dd-id="visione" data-dd-index="1">
                        <div class="input-group input-group-sm mb-0 col-8">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome" value="Scurovisione">
                        </div>
                        <div class="input-group input-group-sm mb-0 col-3">
                          <input type="text" class="form-control" data-dd-id="distanza">
                          <span class="input-group-addon">m</span>
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="form-row mb-1" data-dd-array="item" data-dd-id="visione" data-dd-index="2">
                        <div class="input-group input-group-sm mb-0 col-8">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome" value="Visione del Vero">
                        </div>
                        <div class="input-group input-group-sm mb-0 col-3">
                          <input type="text" class="form-control" data-dd-id="distanza">
                          <span class="input-group-addon">m</span>
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="form-row mb-1" data-dd-array="item" data-dd-id="visione" data-dd-index="3">
                        <div class="input-group input-group-sm mb-0 col-8">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control" data-dd-id="nome" value="Vista cieca">
                        </div>
                        <div class="input-group input-group-sm mb-0 col-3">
                          <input type="text" class="form-control" data-dd-id="distanza">
                          <span class="input-group-addon">m</span>
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Visione normale.</small>
                      </p>
                      <p class="form-text text-center">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fa fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                </div>
                <h5 class="mt-3">Note</h5>
                <textarea data-dd-id="note" class="form-control"></textarea>
              </div>
            </div>
          </div>

















          <div class="card">
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_stat_attacco" aria-expanded="true" aria-controls="card_stat_attacco">
              <h4 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Dado vita, armatura e statistiche attacco
              </h4>
            </div>
            <div class="collapse show" id="card_stat_attacco">
              <div class="card-body">
                <h5>Dado vita</h5>
                <table class="table table-striped table-sm table-responsive" data-dd-id="dado_vita">
                  <thead>
                    <tr>
                      <th class="text-center">Razza</th>
                      <th class="text-center">Cl&nbsp;1</th>
                      <th class="text-center">Cl&nbsp;2</th>
                      <th class="text-center">Cl&nbsp;3</th>
                      <th class="text-center">Cl&nbsp;4</th>
                      <th class="text-center">Cl&nbsp;5</th>
                      <th class="text-center">Cl&nbsp;6</th>
                      <th class="text-center">Cl&nbsp;7</th>
                      <th class="text-center">Cl&nbsp;8</th>
                      <th class="text-center">Cl&nbsp;9</th>
                      <th class="text-center">Tot</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[2]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[3]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[4]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[5]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[6]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[7]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[8]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                    </tr>
                  </tbody>
                </table>
                <h5 class="mt-3">Armatura</h5>
                <table class="table table-striped table-sm table-responsive">
                  <thead>
                    <tr>
                      <th></th>
                      <th class="text-center">Base</th>
                      <th class="text-center">Armat</th>
                      <th class="text-center">Scudo</th>
                      <th class="text-center">Des</th>
                      <th class="text-center">Taglia</th>
                      <th class="text-center">A&nbsp;Nat</th>
                      <th class="text-center">Deviaz</th>
                      <th class="text-center">Cognit</th>
                      <th class="text-center">VV1</th>
                      <th class="text-center">VV2</th>
                      <th class="text-center">Tot</th>
                      <th class="text-center">Tmp</th>
                      <th class="text-center">Tot&nbsp;Tmp</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr data-dd-id="classe_armatura">
                      <th>CA</th>
                      <td class="text-center text-muted align-middle"><small>10/1d20</small></td>
                      <td><input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="scudo" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="des" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="armatura_naturale" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="deviazione" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="cognitivo" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot_temp" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="contatto">
                      <th>Contatto</th>
                      <td class="text-center text-muted align-middle"><small>10/1d20</small></td>
                      <td><input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm" disabled></td>
                      <td><input type="text" data-dd-id="scudo" class="text-right form-control form-control-sm" disabled></td>
                      <td><input type="text" data-dd-id="des" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="armatura_naturale" class="text-right form-control form-control-sm" disabled></td>
                      <td><input type="text" data-dd-id="deviazione" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="cognitivo" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot_temp" class="text-right form-control form-control-sm"></td>
                    </tr>
                    <tr data-dd-id="colto_alla_sprovvista">
                      <th>Colto&nbsp;alla&nbsp;s.</th>
                      <td class="text-center text-muted align-middle"><small>10/1d20</small></td>
                      <td><input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="scudo" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="des" class="text-right form-control form-control-sm" disabled></td>
                      <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="armatura_naturale" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="deviazione" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="cognitivo" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot_temp" class="text-right form-control form-control-sm"></td>
                    </tr>
                  </tbody>
                </table>

                <div class="row">
                  <div class="col-md-6 separatable">
                    <h5 class="mt-3">Bonus attacco base</h5>
                    <table class="table table-striped table-sm table-responsive" data-dd-id="bonus_att_base">
                      <thead>
                      <tr>
                        <th class="text-center">Att&nbsp;1</th>
                        <th class="text-center">Att&nbsp;2</th>
                        <th class="text-center">Att&nbsp;3</th>
                        <th class="text-center">Att&nbsp;4</th>
                        <th class="text-center">Att&nbsp;5</th>
                        <th class="text-center">Att&nbsp;0</th>
                      </tr>
                     </thead>
                     <tbody>
                      <tr>
                        <td><input type="text" data-dd-id="att[0]" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="att[1]" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="att[2]" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="att[3]" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="att[4]" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" class="text-right form-control form-control-sm" readonly value="Att 1"></td>
                      </tr>
                     </tbody>
                    </table>
                  </div>
                  <div class="col-md-6">
                    <h5 class="mt-3">Iniziativa</h5>
                    <table class="table table-striped table-sm table-responsive" data-dd-id="iniziativa">
                      <thead>
                      <tr>
                        <th class="text-center">Des</th>
                        <th class="text-center">Tal</th>
                        <th class="text-center">VV&nbsp;1</th>
                        <th class="text-center">VV&nbsp;2</th>
                        <th class="text-center">Tot</th>
                      </tr>
                     </thead>
                     <tbody>
                      <tr>
                        <td><input type="text" data-dd-id="des" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="talento" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      </tr>
                     </tbody>
                    </table>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-3 separatable">
                    <h5 class="mt-3">Punti ferita</h5>
                    <table class="table table-striped table-sm table-responsive" data-dd-id="punti_ferita">
                      <thead>
                        <tr>
                          <th class="text-center">Tot</th>
                          <th class="text-center">Tot&nbsp;Tmp</th>
                        </tr>
                       </thead>
                       <tbody>
                        <tr>
                          <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                          <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                        </tr>
                       </tbody>
                    </table>
                  </div>
                  <div class="col-md-3 separatable">
                    <h5 class="mt-3 text-truncate">Res. Incantesimi</h5>
                    <table class="table table-striped table-sm table-responsive" data-dd-id="resistenza_incantesimi">
                      <thead>
                        <tr>
                          <th class="text-center">Tot</th>
                          <th class="text-center">Tot&nbsp;Tmp</th>
                        </tr>
                       </thead>
                       <tbody>
                        <tr>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="tot"></td>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="temp"></td>
                        </tr>
                       </tbody>
                    </table>
                  </div>
                  <div class="col-md-6">
                    <h5 class="mt-3">Resistenza danno</h5>
                    <table class="table table-striped table-sm table-responsive" data-dd-id="resistenza_danno">
                      <thead>
                        <tr>
                          <th class="text-center">Tot/Tipo</th>
                          <th class="text-center">Tot/Tipo</th>
                          <th class="text-center">Tot/Tipo</th>
                          <th class="text-center">Tot/Tipo</th>
                          <th class="text-center">Migl&nbsp;Tot</th>
                        </tr>
                       </thead>
                       <tbody>
                        <tr>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="tot_tipo[0]"></td>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="tot_tipo[1]"></td>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="tot_tipo[2]"></td>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="tot_tipo[3]"></td>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="migl_tot"></td>
                        </tr>
                       </tbody>
                    </table>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-9 separatable">
                    <h5 class="mt-3">Lotta</h5>
                    <table class="table table-striped table-sm table-responsive mb-1" data-dd-id="lotta">
                      <thead>
                      <tr>
                        <th class="text-center">BAB</th>
                        <th class="text-center">For</th>
                        <th class="text-center">Taglia</th>
                        <th class="text-center">Tal</th>
                        <th class="text-center">Mag</th>
                        <th class="text-center">VV&nbsp;1</th>
                        <th class="text-center">VV&nbsp;2</th>
                        <th class="text-center">Tot</th>
                      </tr>
                     </thead>
                     <tbody>
                      <tr>
                        <td><input type="text" data-dd-id="bonus_att_base" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="for" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="talento" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                        <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                      </tr>
                     </tbody>
                    </table>
                  </div>
                  <div class="col-md-3">
                    <h5 class="mt-3 text-truncate">Att. di opportunità</h5>
                    <div class="form-group mb-1">
                      <label class="col-form-label">Totale</label>
                      <input type="text" data-dd-id="att_opportunita" class="text-right form-control">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>


















          <div class="card">
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_attacchi" aria-expanded="true" aria-controls="card_attacchi">
              <h4 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Elenco attacchi
                <span class="close">
                  <span class="text-muted font-weight-light" data-dd-array="count" data-target="#array_attacchi">0</span>
                  <i class="fa fa-plus-circle text-success" data-dd-array="append" data-target="#array_attacchi" aria-label="Add" aria-hidden="true"></i>
                </span>
              </h4>
            </div>
            <div class="collapse show" id="card_attacchi">
              <div class="card-body" data-dd-array="container" id="array_attacchi">
                <div class="card d-none" data-dd-array="master" data-dd-id="attacchi">
                  <div class="card-body">
                    <h5 class="card-title">Attacco
                      <button type="button" class="close text-danger" data-dd-array="remove" aria-label="Remove">
                        <i class="fa fa-minus-circle" aria-hidden="true"></i>
                      </button>
                    </h5>
                    <div class="form-row">
                      <div class="form-group mb-1 col-md-8">
                        <label class="col-form-label">Nome/descrizione</label>
                        <input type="text" class="form-control" data-dd-id="nome">
                      </div>
                      <div class="form-group mb-1 col-md-2">
                        <label class="col-form-label">Tipo</label>
                        <select class="form-control" data-dd-id="tipo">
                          <option value="mischia" selected>In mischia</option>
                          <option value="distanza">A distanza</option>
                          <option value="senza_armi">Senz'armi</option>
                        </select>
                      </div>
                      <div class="form-group mb-1 col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Punti ferita</label></div>
                        <input type="text" class="form-control" data-dd-id="punti_ferita">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group mb-1 col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Peso</label></div>
                        <input type="text" class="form-control" data-dd-id="peso">
                      </div>
                      <div class="form-group mb-1 col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Taglia ogg.</label></div>
                        <input type="text" class="form-control" data-dd-id="taglia_oggetto">
                      </div>
                      <div class="form-group mb-1 col-md-2">
                        <div class="text-truncate"><label class="col-form-label">CA arma</label></div>
                        <input type="text" class="form-control" data-dd-id="ca_arma">
                      </div>
                      <div class="form-group mb-1 col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Materiale</label></div>
                        <input type="text" class="form-control" data-dd-id="materiale">
                      </div>
                      <div class="form-group mb-1 col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Durezza</label></div>
                        <input type="text" class="form-control" data-dd-id="durezza">
                      </div>
                      <div class="form-group mb-1 col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Prezzo</label></div>
                        <input type="text" class="form-control" data-dd-id="prezzo">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Munizioni</label></div>
                        <input type="text" class="form-control" data-dd-id="munizioni">
                      </div>
                      <div class="form-group col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Quantità</label></div>
                        <input type="text" class="form-control" data-dd-id="quantita">
                      </div>
                      <div class="form-group col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Portata/gittata</label></div>
                        <input type="text" class="form-control" data-dd-id="portata">
                      </div>
                      <div class="form-group col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Tipo dell'arma</label></div>
                        <input type="text" class="form-control" data-dd-id="tipo_arma">
                      </div>
                      <div class="form-group col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Aura</label></div>
                        <input type="text" class="form-control" data-dd-id="aura">
                      </div>
                      <div class="form-group col-md-2">
                        <div class="text-truncate"><label class="col-form-label">Scuola</label></div>
                        <input type="text" class="form-control" data-dd-id="scuola">
                      </div>
                    </div>

                    <div class="row mt-3">
                      <div class="col-md-6 separatable" data-dd-id="tiro_colpire">
                        <h5>Tiro per colpire</h5>
                        <div class="form-row">
                          <div class="form-group mb-1 col-3">
                            <div class="text-truncate"><label class="col-form-label col-form-label-sm">Mod effett</label></div>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod_eff">
                          </div>
                          <div class="form-group mb-1 col-3">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="form-group mb-1 col-6">
                            <label class="col-form-label col-form-label-sm">Caratteristica</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="caratteristica">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_razziali">
                          <div class="form-group mb-1 col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori razziali</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_magici">
                          <div class="form-group mb-1 col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori magici</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_vv[0]">
                          <div class="form-group mb-1 col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori vari 1</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_vv[1]">
                          <div class="form-group mb-1 col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori vari 2</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group mb-1 col-2">
                            <div class="text-truncate"><label class="col-form-label col-form-label-sm">M&nbsp;taglia</label></div>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod_taglia">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Talenti per il chierico</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="chierico_talenti">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group mb-1 col-2">
                            <label class="col-form-label col-form-label-sm">BAB</label>
                            <input type="text" class="form-control form-control-sm" readonly value="Att 1">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori VV Critico</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod_critico">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group mb-1 col-4">
                            <label class="col-form-label col-form-label-sm">Tot</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="tot">
                          </div>
                          <div class="form-group mb-1 col-4">
                            <label class="col-form-label col-form-label-sm">Tot Spec</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="tot_spec">
                          </div>
                          <div class="form-group mb-1 col-4">
                            <label class="col-form-label col-form-label-sm">Critico</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="critico">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group mb-0 col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                          </div>
                          <div class="form-group mb-0 col-10">
                            <label class="col-form-label col-form-label-sm">Talenti</label>
                          </div>
                        </div>
                        <div data-dd-array="container">
                          <div class="form-row mb-1 d-none" data-dd-array="master" data-dd-id="mod_talenti">
                            <div class="form-group mb-0 col-2">
                              <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                            </div>
                            <div class="form-group mb-0 col-9">
                              <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                            </div>
                            <div class="form-group mb-0 text-center col-1">
                              <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                                <i class="fa fa-minus-square" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                          <p class="mb-2 text-muted text-center form-text array-placeholder">
                            <small>Nessun modificatore talenti.</small>
                          </p>
                          <p class="form-text text-center">
                            <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                              <i class="fa fa-plus-square" aria-hidden="true"></i>
                            </button>
                          </p>
                        </div>
                      </div>
                      <div class="col-md-6" data-dd-id="tiro_danni">
                        <h5>Tiro per i danni</h5>
                        <div class="form-row">
                          <div class="form-group mb-1 col-3">
                            <div class="text-truncate"><label class="col-form-label col-form-label-sm">Mod effett</label></div>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod_eff">
                          </div>
                          <div class="form-group mb-1 col-3">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="form-group mb-1 col-6">
                            <label class="col-form-label col-form-label-sm">Caratteristica</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="caratteristica">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_razziali">
                          <div class="form-group mb-1 col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori razziali</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_magici">
                          <div class="form-group mb-1 col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori magici</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_vv[0]">
                          <div class="form-group mb-1 col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori vari 1</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_vv[1]">
                          <div class="form-group mb-1 col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori vari 2</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group mb-1 col-2">
                            <label class="col-form-label col-form-label-sm">Tot</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="tot">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Danni speciali 1</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="danni_speciali[0]">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group mb-1 col-2">
                            <div class="text-truncate"><label class="col-form-label col-form-label-sm">Tipo&nbsp;danni</label></div>
                            <input type="text" class="form-control form-control-sm" data-dd-id="tipo_speciali">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Danni speciali 2</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="danni_speciali[1]">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group mb-1 col-2">
                            <div class="text-truncate"><label class="col-form-label col-form-label-sm">D&nbsp;non&nbsp;Let</label></div>
                            <input type="text" class="form-control form-control-sm" data-dd-id="d_non_let">
                          </div>
                          <div class="form-group mb-1 col-10">
                            <label class="col-form-label col-form-label-sm">Danni speciali 3</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="danni_speciali[2]">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group mb-0 col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                          </div>
                          <div class="form-group mb-0 col-10">
                            <label class="col-form-label col-form-label-sm">Talenti</label>
                          </div>
                        </div>
                        <div data-dd-array="container">
                          <div class="form-row mb-1 d-none" data-dd-array="master" data-dd-id="mod_talenti">
                            <div class="form-group mb-0 col-2">
                              <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                            </div>
                            <div class="form-group mb-0 col-9">
                              <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                            </div>
                            <div class="form-group mb-0 text-center col-1">
                              <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                                <i class="fa fa-minus-square" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                          <p class="mb-2 text-muted text-center form-text array-placeholder">
                            <small>Nessun modificatore talenti.</small>
                          </p>
                          <p class="form-text text-center">
                            <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                              <i class="fa fa-plus-square" aria-hidden="true"></i>
                            </button>
                          </p>
                        </div>
                      </div>
                    </div>
                    <div class="form-group mb-1">
                      <label class="col-form-label">Capacità magiche e note:</label>
                      <textarea class="form-control" data-dd-id="note"></textarea>
                    </div>
                  </div>
                </div>
                <p class="text-muted text-center array-placeholder">
                  Nessun attacco.
                </p>
              </div>
            </div>
          </div>






















          <div class="card">
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_talenti_skills" aria-expanded="true" aria-controls="card_talenti_skills">
              <h4 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Talenti, skill tricks, privilegi di classe
              </h4>
            </div>
            <div class="collapse show" id="card_talenti_skills">
              <div class="card-body">
                <div class="row">
                  <div class="col-md-4 separatable">
                    <h5 class="text-truncate">Talenti e difetti, maneuvers, stances</h5>
                    <div class="form-row">
                      <div class="form-group mb-0 col-7">
                        <label class="col-form-label col-form-label-sm">Nome</label>
                      </div>
                      <div class="form-group mb-0 col-2">
                        <label class="col-form-label col-form-label-sm">Lvl</label>
                      </div>
                      <div class="form-group mb-0 col-2">
                        <label class="col-form-label col-form-label-sm">Rif</label>
                      </div>
                    </div>
                    <div data-dd-array="container">
                      <div class="form-row mb-1 d-none" data-dd-array="master" data-dd-id="talenti">
                        <div class="form-group mb-0 col-7">
                          <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                        </div>
                        <div class="form-group mb-0 col-2">
                          <input type="text" class="form-control form-control-sm" data-dd-id="livello">
                        </div>
                        <div class="form-group mb-0 col-2">
                          <input type="text" class="form-control form-control-sm" data-dd-id="riferimento">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Nessuno.</small>
                      </p>
                      <p class="form-text text-center mb-1">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fa fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                  <div class="col-md-4 separatable" data-dd-id="skill_tricks">
                    <h5>Skill tricks</h5>
                    <div class="form-row">
                      <div class="form-group mb-0 col-7">
                        <label class="col-form-label col-form-label-sm">Nome</label>
                      </div>
                      <div class="form-group mb-0 col-2">
                        <label class="col-form-label col-form-label-sm">Lvl</label>
                      </div>
                      <div class="form-group mb-0 col-2">
                        <label class="col-form-label col-form-label-sm">Rif</label>
                      </div>
                    </div>
                    <div data-dd-array="container">
                      <div class="form-row mb-1 d-none" data-dd-array="master" data-dd-id="skill_tricks">
                        <div class="form-group mb-0 col-7">
                          <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                        </div>
                        <div class="form-group mb-0 col-2">
                          <input type="text" class="form-control form-control-sm" data-dd-id="livello">
                        </div>
                        <div class="form-group mb-0 col-2">
                          <input type="text" class="form-control form-control-sm" data-dd-id="riferimento">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Nessuno.</small>
                      </p>
                      <p class="form-text text-center mb-1">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fa fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                  <div class="col-md-4" data-dd-id="privilegi">
                    <h5 class="text-truncate">Privilegi di classe, capacità speciali</h5>
                    <div class="form-row">
                      <div class="form-group mb-0 col-7">
                        <label class="col-form-label col-form-label-sm">Nome</label>
                      </div>
                      <div class="form-group mb-0 col-2">
                        <label class="col-form-label col-form-label-sm">Tipo</label>
                      </div>
                      <div class="form-group mb-0 col-2">
                        <label class="col-form-label col-form-label-sm">Rif</label>
                      </div>
                    </div>
                    <div data-dd-array="container">
                      <div class="form-row mb-1 d-none" data-dd-array="master" data-dd-id="privilegi">
                        <div class="form-group mb-0 col-7">
                          <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                        </div>
                        <div class="form-group mb-0 col-2">
                          <input type="text" class="form-control form-control-sm" data-dd-id="tipo">
                        </div>
                        <div class="form-group mb-0 col-2">
                          <input type="text" class="form-control form-control-sm" data-dd-id="riferimento">
                        </div>
                        <div class="form-group mb-0 text-center col-1">
                          <button type="button" class="close float-none align-text-top text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Nessuno.</small>
                      </p>
                      <p class="form-text text-center mb-1">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fa fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>



















          <div class="card">
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_abilita" aria-expanded="true" aria-controls="card_abilita">
              <h4 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Abilità
                <span class="close">
                  <span class="text-muted font-weight-light" data-dd-array="count" data-target="#array_attacchi">0</span>
                  <i class="fa fa-plus-circle text-success" data-dd-array="append" data-target="#array_attacchi" aria-label="Add" aria-hidden="true"></i>
                </span>
              </h4>
            </div>
            <div class="collapse show" id="card_abilita">
              <div class="card-body">

                <div class="form-row">
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Grado massimo</label>
                    <input type="text" class="form-control" data-dd-id="grado_max">
                  </div>
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Gradi</label>
                    <input type="text" class="form-control" data-dd-id="gradi">
                  </div>
                </div>



                <div class="simulate-alloc-float-right">
                  <div class="form-row">
                    <label class="col-md-8 col-form-label col-form-label-sm">
                      Acquisita · Nome · Di classe
                    </label>
                    <label class="col-md-2 col-form-label col-form-label-sm">
                      Car chiave · Mod C
                    </label>
                    <label class="col-md-1 col-form-label col-form-label-sm">
                      Gradi
                    </label>
                    <label class="col-md-1 col-form-label col-form-label-sm">
                      Totale
                    </label>
                  </div>
                </div>



                <div>
                  <div class="simulate-alloc-float-right">
                    <div class="simulate-float-right">
                      <button type="button" class="close simulate-va-middle float-none text-danger" data-dd-array="remove" aria-label="Remove">
                        <i class="fa fa-minus-square" aria-hidden="true"></i>
                      </button>
                    </div>
                    <div class="form-row">
                      <div class="col-md-8">
                        <div class="input-group input-group-sm">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </span>
                          <input type="text" class="form-control form-control-sm">
                          <span class="input-group-btn">
                            <span tabindex="0" class="btn btn-addon btn-sm m-0 btn-custom-checkbox" data-toggle="buttons">
                              <input type="checkbox">
                              <i class="fa fa-square-o fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="fa fa-check-square-o fa-lg toggle-active" aria-hidden="true"></i>
                              <i class="fa fa-copyright toggle-active" aria-hidden="true"></i>
                              <i class="fa fa-copyright toggle-inactive" aria-hidden="true"></i>
                            </span>
                          </span>
                        </div>
                      </div>
                      <div class="col-md-2">
                        <div class="input-group input-group-sm">
                          <div class="input-group-btn">
                            <span tabindex="0" class="btn btn-sm btn-addon dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                              <input type="text" readonly class="form-control-plaintext" value="For">
                            </span>
                            <div class="dropdown-menu">
                              <a class="dropdown-item" href="#">For</a>
                              <a class="dropdown-item" href="#">Des</a>
                              <a class="dropdown-item" href="#">Cos</a>
                              <a class="dropdown-item" href="#">Int</a>
                              <a class="dropdown-item" href="#">Sag</a>
                              <a class="dropdown-item" href="#">Car</a>
                            </div>
                          </div>
                          <input type="text" class="form-control form-control-sm">
                        </div>
                      </div>
                      <div class="col-md-1">
                        <input type="text" class="form-control form-control-sm">
                      </div>
                      <div class="col-md-1">
                        <input type="text" class="form-control form-control-sm">
                      </div>
                    </div>
                    <div class="extra-mods">
                      <div class="form-row mt-2">
                        <div class="col input-group input-group-sm">
                          <span class="input-group-addon">Raz</span>
                          <input type="text" class="form-control form-control-sm">
                        </div>
                        <div class="col input-group input-group-sm">
                          <span class="input-group-addon">Ar&nbsp;1</span>
                          <input type="text" class="form-control form-control-sm">
                        </div>
                        <div class="col input-group input-group-sm">
                          <span class="input-group-addon">Ar&nbsp;2</span>
                          <input type="text" class="form-control form-control-sm">
                        </div>
                        <div class="col input-group input-group-sm">
                          <span class="input-group-addon">Sin</span>
                          <input type="text" class="form-control form-control-sm">
                        </div>
                        <div class="col input-group input-group-sm">
                          <span class="input-group-addon">BSin</span>
                          <input type="text" class="form-control form-control-sm">
                        </div>
                        <div class="col input-group input-group-sm">
                          <span class="input-group-addon">Tal</span>
                          <input type="text" class="form-control form-control-sm">
                        </div>
                        <div class="col input-group input-group-sm">
                          <span class="input-group-addon">Ogg</span>
                          <input type="text" class="form-control form-control-sm">
                        </div>
                        <div class="col input-group input-group-sm">
                          <span class="input-group-addon">VV</span>
                          <input type="text" class="form-control form-control-sm">
                        </div>
                      </div>
                    </div>
                  </div>
                  <hr class="extra-mods my-2">
                </div>

              </div>
            </div>
          </div>
























          <div class="card">
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_spostamento" aria-expanded="true" aria-controls="card_spostamento">
              <h4 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Spostamento
              </h4>
            </div>
            <div class="collapse show" id="card_spostamento">
              <div class="card-body">
                <h5>Carico</h5>
                <div class="form-row" data-dd-id="carico">
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Leggero</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="leggero" class="text-right form-control">
                      <span class="input-group-addon">kg</span>
                    </div>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Medio</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="medio" class="text-right form-control">
                      <span class="input-group-addon">kg</span>
                    </div>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Pesante</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="pesante" class="text-right form-control">
                      <span class="input-group-addon">kg</span>
                    </div>
                  </div>
                  <div class="form-group col-md-2 text-truncate">
                    <label class="col-form-label">Soll. sopra la testa</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="sopra_testa" class="text-right form-control" aria-describedby="aiuto_sopra_testa">
                      <span class="input-group-addon">kg</span>
                    </div>
                    <span id="aiuto_sopra_testa" class="help-block form-text text-right text-muted">(carico max)</span>
                  </div>
                  <div class="form-group col-md-2 text-truncate">
                    <label class="col-form-label">Soll. dal terreno</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="dal_terreno" class="text-right form-control" aria-describedby="aiuto_dal_terreno">
                      <span class="input-group-addon">kg</span>
                    </div>
                    <span id="aiuto_dal_terreno" class="help-block form-text text-right text-muted">(carico max ×2)</span>
                  </div>
                  <div class="form-group col-md-2 text-truncate">
                    <label class="col-form-label">Sping. o trasc.</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="sping_trasc" class="text-right form-control" aria-describedby="aiuto_spingere_trascinare">
                      <span class="input-group-addon">kg</span>
                    </div>
                    <span id="aiuto_spingere_trascinare" class="help-block form-text text-right text-muted">(carico max ×5)</span>
                  </div>
                </div>

                <h5>Velocità</h5>
                <div class="form-row" data-dd-id="velocita">
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Base</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="base" class="text-right form-control form-control-sm">
                      <span class="input-group-addon">m</span>
                    </div>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Armatura</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm">
                      <span class="input-group-addon">m</span>
                    </div>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Correre</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="correre" class="text-right form-control form-control-sm">
                      <span class="input-group-addon">m</span>
                    </div>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Nuotare</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="nuotare" class="text-right form-control form-control-sm">
                      <span class="input-group-addon">m</span>
                    </div>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Scalare</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="scalare" class="text-right form-control form-control-sm">
                      <span class="input-group-addon">m</span>
                    </div>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="col-form-label">Volare</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="volare" class="text-right form-control form-control-sm">
                      <span class="input-group-addon">m</span>
                    </div>
                  </div>
                </div>





                <div class="row">
                  <div class="col-md-4">
                    <table class="table table-responsive">
                      <thead>
                        <tr>
                          <th class="text-center">Tot peso</th>
                          <th class="text-center">Pen armatura</th>
                          <th class="text-center">Pen nuotare</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td><input type="text" data-dd-id="peso_tot" class="text-right form-control form-control-sm"></td>
                          <td><input type="text" data-dd-id="penalita_armatura" class="text-right form-control form-control-sm"></td>
                          <td><input type="text" data-dd-id="penalita_nuotare" class="text-right form-control form-control-sm"></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>



















          <div class="card mt-5 mb-3">
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_debug_features" aria-expanded="false" aria-controls="card_debug_features">
              <h4 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fa fa-chevron-circle-down" aria-hidden="true"></i>
                </button>
                Debug features
              </h4>
            </div>
            <div id="card_debug_features" class="collapse">
              <div class="card-body">
                <div class="form-row">
                  <div class="form-group col-md-3">
                    <button id="tbox_highlight_missing_id" class="btn btn-secondary w-100" type="button">Highlight missing dd-id</button>
                  </div>
                  <div class="form-group col-md-3">
                    <button id="tbox_show_hpath" class="btn btn-secondary w-100" type="button">Show get_hier_path</button>
                  </div>
                  <div class="form-group col-md-3">
                    <button id="tbox_load_repr" class="btn btn-secondary w-100" type="button">Load representation</button>
                  </div>
                  <div class="form-group col-md-3">
                    <button id="tbox_dump_repr" class="btn btn-secondary w-100" type="button">Dump representation</button>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group col-md-3">
                    <button id="tbox_test_wait" class="btn btn-secondary w-100" type="button" data-toggle="modal" data-target="#waiting">Test waiting</button>
                  </div>
                  <div class="form-group col-md-3">
                    <button id="tbox_test_alert" class="btn btn-secondary w-100" type="button">Test alert</button>
                  </div>
                  <div class="form-group col-md-3">
                    <button id="tbox_find_duplicates" class="btn btn-secondary w-100" type="button">Find duplicates</button>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group col-md-12">
                    <textarea class="form-control" rows="10" id="tbox_txt"></textarea>
                  </div>
                </div>
              </div>
            </div>
          </div>









        </div>
      </div>
    </div>
  </body>
</html>
