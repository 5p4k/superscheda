<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <title>Superscheda</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script src="tree.js"></script>
    <script src="https://unpkg.com/dropbox/dist/Dropbox-sdk.min.js"></script>
    <script src="controller.js"></script>
    <script src="dd-config.js"></script>
    <script>
      DD = new Controller();

      $(function() {

        DD.setup();

        $('#tbox_highlight_missing_id').click(function() {
          $('input').not('[data-dd-id]').addClass('is-invalid');
        });

        $('#tbox_show_hpath').click(function() {
          $('input[data-dd-id]').each(function (i, obj) {
            $(obj).attr('title', DD._getHierPath(obj));
            $(obj).data('toggle', 'tooltip');
            $(obj).tooltip();
          })
        });

        $('#tbox_load_repr').click(function() {
          DD.update();
          $('#tbox_txt').val(DD.data.dump());
        });

      });
    </script>
  </head>
  <body>
    <div class="container">
      <h1>Scheda estesa D&amp;D 3.5</h1>
      <div class="row">
        <div class="col-md-12">
          <button id="btn_save" class="btn btn-outline-primary" type="button" data-toggle="modal" data-target="#exampleModalLong">Save to <i class="fa fa-dropbox" aria-hidden="true"></i></button>
        </div>
      </div>


      <div class="modal fade" tabindex="-1" role="dialog" id="exampleModalLong" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">Save to <i class="fa fa-dropbox" aria-hidden="true"></i></h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <form novalidate>
              <div class="modal-body">
                <div class="form-group row">
                  <label class="col-sm-2 col-form-label">Filename: </label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" placeholder="file.json" required pattern=".+\.json">
                  </div>
                </div>
                <hr>
                <div id="dbox_content">
                  <i class="fa fa-refresh fa-spin"></i>
                </div>
              </div>
              <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Save</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <script type="text/javascript">
        var $save_to_modal = $('#exampleModalLong');
        var $form = $save_to_modal.find('form');
        $form.on('submit', function (event) {
          event.preventDefault();
          event.stopPropagation();
          $form.find('input,button').prop('disabled', true);
          if ($form[0].checkValidity() === true) {
            DD.save(
              $form.find('input').val(),
              function(success) { $save_to_modal.modal('hide'); }
            );
          }
          $form.addClass('was-validated');
        });

        $save_to_modal.on('show.bs.modal', function (evt) {
          var $filename_input = $(this).find('input');
          var $dbox_content = $(this).find('#dbox_content');
          DD.dropBox.filesListFolder({path: ''})
            .then(function(response) {
              $dbox_content.empty();
              var $ul = $('<ul class="list-unstyled ml-1"></ul>');
              for (var i = 0; i < response.entries.length; ++i) {
                var name = response.entries[i].name;
                $('<a href="#"></a>')
                  .text(' ' + name)
                  .prepend($('<i class="fa fa-file" aria-hidden="true"></i>'))
                  .click(function(evt) {
                    $filename_input.val(name).change();
                  })
                  .appendTo($('<li></li>').appendTo($ul));
              }
              $ul.appendTo($dbox_content);
            })
            .catch(function(error) {
              console.log(error);
              $('<p class="text-danger">Unable to load file list.</p>')
                .appendTo($dbox_content);
            });
        });

        $save_to_modal.on('hidden.bs.modal', function (evt) {
          var $dbox_content = $(this).find('#dbox_content');
          $form.find('input,button').prop('disabled', false);
          $dbox_content.empty();
          $('<i class="fa fa-refresh fa-spin"></i>').appendTo($dbox_content);
        });
      </script>

      <br>

      <div class="card">
        <div class="card-header">
         <a data-toggle="collapse" href="#debug_features" aria-expanded="true" aria-controls="debug_features">Debug features</a>
        </div>
        <div id="debug_features" class="card-body collapse show">
            <button id="tbox_highlight_missing_id" class="btn btn-secondary" type="button">Highlight missing dd-id</button>
            <button id="tbox_show_hpath" class="btn btn-secondary" type="button">Show get_hier_path</button>
            <button id="tbox_load_repr" class="btn btn-secondary" type="button">Load representation</button>
            <br><br>
            <textarea class="form-control" rows="10" readonly id="tbox_txt"></textarea>
        </div>
      </div>

      <br>

      <div class="card">
        <div class="card-header">Base</div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-3 form-group">
              <label>Nome del personaggio</label>
              <input type="text" class="form-control" data-dd-id="nome" placeholder="Nome">
            </div>
            <div class="col-md-3 form-group">
              <label>Razza</label>
              <input type="text" class="form-control" data-dd-id="razza" placeholder="Umano">
            </div>
            <div class="col-md-3 form-group">
              <label>Archetipo 1</label>
              <input type="text" class="form-control" data-dd-id="archetipo[0]">
            </div>
            <div class="col-md-3 form-group">
              <label>Archetipo 2</label>
              <input type="text" class="form-control" data-dd-id="archetipo[1]">
            </div>
          </div>

          <div class="row">
            <div class="col-md-3 form-group">
              <label>Nome del giocatore</label>
              <input type="text" class="form-control" data-dd-id="giocatore" placeholder="Il tuo nome">
            </div>
            <div class="col-md-3 form-group">
              <label>Classe</label>
              <input type="text" class="form-control" data-dd-id="classe[0]" placeholder="Classe">
            </div>
            <div class="col-md-3 form-group">
              <label>Classe/CdP</label>
              <input type="text" class="form-control" data-dd-id="classe[1]">
            </div>
            <div class="col-md-3 form-group">
              <label>Classe/CdP</label>
              <input type="text" class="form-control" data-dd-id="classe[2]">
            </div>
          </div>

          <div class="row" data-dd-id="png">
            <div class="col-md-3 form-group">
              <label>Classe da PNG</label>
              <input type="text" class="form-control" id="classe[0]">
            </div>
            <div class="col-md-3 form-group">
              <label>Classe/CdP</label>
              <input type="text" class="form-control" id="classe[1]">
            </div>
            <div class="col-md-3 form-group">
              <label>Classe/CdP</label>
              <input type="text" class="form-control" id="classe[2]">
            </div>
            <div class="col-md-3 form-group">
              <label>Classe/CdP</label>
              <input type="text" class="form-control" id="classe[3]">
            </div>
          </div>


          <div class="row">
            <div class="col-md-3">
              <div class="row">
                <div class="col-md-6 form-group">
                  <label>Taglia</label>
                  <input type="text" class="form-control" data-dd-id="taglia">
                </div>
                <div class="col-md-6 form-group">
                  <label>Altezza</label>
                  <input type="text" class="form-control" data-dd-id="altezza">
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="row">
                <div class="col-md-6 form-group">
                  <label>Peso</label>
                  <input type="text" class="form-control" data-dd-id="peso">
                </div>
                <div class="col-md-6 form-group">
                  <label>Occhi</label>
                  <input type="text" class="form-control" data-dd-id="occhi">
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="row">
                <div class="col-md-6 form-group">
                  <label>Capelli</label>
                  <input type="text" class="form-control" data-dd-id="capelli">
                </div>
                <div class="col-md-6 form-group">
                  <label>Pelle</label>
                  <input type="text" class="form-control" data-dd-id="pelle">
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="row">
                <div class="col-md-6 form-group">
                  <label>Età</label>
                  <input type="text" class="form-control" data-dd-id="eta">
                </div>
                <div class="col-md-6 form-group">
                  <label>Sesso</label>
                  <input type="text" class="form-control" data-dd-id="sesso">
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 form-group">
              <label>Segni particolari</label>
              <input type="text" class="form-control" data-dd-id="segni_particolari">
            </div>
            <div class="col-md-3 form-group">
              <label>Divinità</label>
              <input type="text" class="form-control" data-dd-id="divinita">
            </div>
            <div class="col-md-3 form-group">
              <label>Allineamento/CdP</label>
              <input type="text" class="form-control" data-dd-id="allineamento">
            </div>
          </div>

        </div>
      </div>

      <br>

      <div class="card">
        <table class="table table-responsive" data-dd-id="caratteristiche">
          <thead class="card-header">
            <tr>
              <th>Caratteristiche</th>
              <th class="text-center">TB</th>
              <th class="text-center">Razza</th>
              <th class="text-center">Arch 1</th>
              <th class="text-center">Arch 2</th>
              <th class="text-center">Lvl</th>
              <th class="text-center">Magia</th>
              <th class="text-center">VV1</th>
              <th class="text-center">VV2</th>
              <th class="text-center">Tot</th>
              <th class="text-center">M Tot</th>
              <th class="text-center">Temp</th>
              <th class="text-center">M Temp</th>
            </tr>
          </thead>
          <tbody class="card-body">
            <tr data-dd-id="for">
              <th scope="row">Forza</th>
              <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="mod_totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
            </tr>
            <tr data-dd-id="des">
              <th scope="row">Destrezza</th>
              <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="mod_totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
            </tr>
            <tr data-dd-id="cos">
              <th scope="row">Costituzione</th>
              <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="mod_totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
            </tr>
            <tr data-dd-id="int">
              <th scope="row">Intelligenza</th>
              <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="mod_totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
            </tr>
            <tr data-dd-id="sag">
              <th scope="row">Saggezza</th>
              <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="mod_totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
            </tr>
            <tr data-dd-id="car">
              <th scope="row">Carisma</th>
              <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="mod_totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_temp" class="text-right form-control form-control-sm"></td>
            </tr>
          </tbody>
        </table>
      </div>

      </br>

      <div class="card">
        <table class="table table-responsive">
          <thead class="card-header">
            <tr>
              <th>Armatura</th>
              <th class="text-center">Base</th>
              <th class="text-center">Armat</th>
              <th class="text-center">Scudo</th>
              <th class="text-center">Des</th>
              <th class="text-center">Taglia</th>
              <th class="text-center">A Nat</th>
              <th class="text-center">Deviaz</th>
              <th class="text-center">Cognit</th>
              <th class="text-center">VV1</th>
              <th class="text-center">VV2</th>
              <th class="text-center">Temp</th>
              <th class="text-center">Totale</th>
              <th class="text-center">Tot Temp</th>
            </tr>
          </thead>
          <tbody class="card-body">
            <tr data-dd-id="classe_armatura">
              <th>CA</th>
              <td class="text-center">10/1d20</td>
              <td><input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="scudo" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="des" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="armatura_naturale" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="deviazione" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="cognitivo" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="totale_temp" class="text-right form-control form-control-sm"></td>
            </tr>
            <tr data-dd-id="contatto">
              <th>Contatto</th>
              <td class="text-center">10/1d20</td>
              <td><input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm" disabled></td>
              <td><input type="text" data-dd-id="scudo" class="text-right form-control form-control-sm" disabled></td>
              <td><input type="text" data-dd-id="des" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="armatura_naturale" class="text-right form-control form-control-sm" disabled></td>
              <td><input type="text" data-dd-id="deviazione" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="cognitivo" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="totale_temp" class="text-right form-control form-control-sm"></td>
            </tr>
            <tr data-dd-id="colto_alla_sprovvista">
              <th>Colto alla s.</th>
              <td class="text-center">10/1d20</td>
              <td><input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="scudo" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="des" class="text-right form-control form-control-sm" disabled></td>
              <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="armatura_naturale" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="deviazione" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="cognitivo" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
              <td><input type="text" data-dd-id="totale_temp" class="text-right form-control form-control-sm"></td>
            </tr>
          </tbody>
        </table>
      </div>

      <br>

      <div class="card">
        <div class="card-header">Attacco</div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <table class="table table-responsive" data-dd-id="bonus_att_base">
                <thead>
                <tr>
                  <th></th>
                  <th class="text-center">Att 1</th>
                  <th class="text-center">Att 2</th>
                  <th class="text-center">Att 3</th>
                  <th class="text-center">Att 4</th>
                  <th class="text-center">Att 5</th>
                  <th class="text-center">Att 0</th>
                </tr>
               </thead>
               <tbody>
                <tr>
                  <th class="text-right">BAB</th>
                  <td><input type="text" data-dd-id="att[0]" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="att[1]" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="att[2]" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="att[3]" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="att[4]" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" class="text-right form-control form-control-sm" readonly value="Att 1"></td>
                </tr>
               </tbody>
              </table>
            </div>
            <div class="col-md-6">
              <table class="table table-responsive" data-dd-id="iniziativa">
                <thead>
                <tr>
                  <th></th>
                  <th class="text-center">Des</th>
                  <th class="text-center">Tal</th>
                  <th class="text-center">VV 1</th>
                  <th class="text-center">VV 2</th>
                  <th class="text-center">Totale</th>
                </tr>
               </thead>
               <tbody>
                <tr>
                  <th class="text-right">Iniziativa</th>
                  <td><input type="text" data-dd-id="des" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="talento" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
                </tr>
               </tbody>
              </table>
            </div>
          </div>
          <div class="row">
            <div class="col-md-8">
              <table class="table table-responsive" data-dd-id="lotta">
                <thead>
                <tr>
                  <th></th>
                  <th class="text-center">BAB</th>
                  <th class="text-center">For</th>
                  <th class="text-center">Taglia</th>
                  <th class="text-center">Tal</th>
                  <th class="text-center">Mag</th>
                  <th class="text-center">VV 1</th>
                  <th class="text-center">VV 2</th>
                  <th class="text-center">Totale</th>
                </tr>
               </thead>
               <tbody>
                <tr>
                  <th class="text-right">Lotta</th>
                  <td><input type="text" data-dd-id="bonus_att_base" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="for" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="talento" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
                  <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
                </tr>
               </tbody>
              </table>
            </div>
            <div class="col-md-4">
              <table class="table table-responsive">
                <thead>
                  <tr>
                    <th></th>
                    <th class="text-center">Totale</th>
                  </tr>
                 </thead>
                 <tbody>
                  <tr>
                    <th class="text-right">Attacchi di opportunità</th>
                    <td><input type="text" data-dd-id="att_opportunita" class="text-right form-control form-control-sm"></td>
                  </tr>
                 </tbody>
              </table>
            </div>
          </div>

          <div class="row">
             <div class="col-md-3">
              <table class="table table-responsive">
                <thead>
                  <tr>
                    <th></th>
                    <th class="text-center">Totale</th>
                    <th class="text-center">Tot Temp</th>
                  </tr>
                 </thead>
                 <tbody>
                  <tr>
                    <th class="text-right">PF</th>
                    <td><input type="text" data-dd-id="punti_ferita" class="text-right form-control form-control-sm"></td>
                    <td><input type="text" data-dd-id="punti_ferita_temp" class="text-right form-control form-control-sm"></td>
                  </tr>
                 </tbody>
              </table>
            </div>
             <div class="col-md-3">
              <table class="table table-responsive">
                <thead>
                  <tr>
                    <th></th>
                    <th class="text-center">Totale</th>
                    <th class="text-center">Tot Temp</th>
                  </tr>
                 </thead>
                 <tbody>
                  <tr>
                    <th class="text-right">RI</th>
                    <td><input type="text" class="text-right form-control form-control-sm"></td>
                    <td><input type="text" class="text-right form-control form-control-sm"></td>
                  </tr>
                 </tbody>
              </table>
            </div>
             <div class="col-md-6">
              <table class="table table-responsive">
                <thead>
                  <tr>
                    <th></th>
                    <th class="text-center">Tot/Tipo</th>
                    <th class="text-center">Tot/Tipo</th>
                    <th class="text-center">Tot/Tipo</th>
                    <th class="text-center">Tot/Tipo</th>
                    <th class="text-center">Migl Tot</th>
                  </tr>
                 </thead>
                 <tbody>
                  <tr>
                    <th class="text-right">RD</th>
                    <td><input type="text" class="text-right form-control form-control-sm"></td>
                    <td><input type="text" class="text-right form-control form-control-sm"></td>
                    <td><input type="text" class="text-right form-control form-control-sm"></td>
                    <td><input type="text" class="text-right form-control form-control-sm"></td>
                    <td><input type="text" class="text-right form-control form-control-sm"></td>
                  </tr>
                 </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <br>

      <div class="card">
        <table class="table table-responsive" data-dd-id="dado_vita">
          <thead class="card-header">
            <tr>
              <th>Dado vita</th>
              <th class="text-center">Razza</th>
              <th class="text-center">Cl 1</th>
              <th class="text-center">Cl 2</th>
              <th class="text-center">Cl 3</th>
              <th class="text-center">Cl 4</th>
              <th class="text-center">Cl 5</th>
              <th class="text-center">Cl 6</th>
              <th class="text-center">Cl 7</th>
              <th class="text-center">Cl 8</th>
              <th class="text-center">Cl 9</th>
              <th class="text-center">Totale</th>
            </tr>
          </thead>
          <tbody class="card-body">
            <tr>
              <th class="text-right">DV</th>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe[2]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe[3]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe[4]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe[5]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe[6]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe[7]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe[8]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
            </tr>
          </tbody>
        </table>
      </div>

      <br>

      <div class="card">
        <table class="table table-responsive" data-dd-id="tiro_salvezza">
          <thead class="card-header">
            <tr>
              <th>Tiro salvezza</th>
              <th class="text-center">M Car</th>
              <th class="text-center">Classe</th>
              <th class="text-center">Razza</th>
              <th class="text-center">Arch 1</th>
              <th class="text-center">Arch 2</th>
              <th class="text-center">Magia</th>
              <th class="text-center">VV 1</th>
              <th class="text-center">VV 2</th>
              <th class="text-center">Mod Specifici</th>
              <th class="text-center">Tot</th>
            </tr>
          </thead>
          <tbody class="card-body">
            <tr data-dd-it="tempra/cos">
              <th class="text-right"><sup>Cos</sup> Tempra</th>
              <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
            </tr>
            <tr data-dd-id="tempra/des">
              <th class="text-right"><sup>Des</sup> Tempra</th>
              <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
            </tr>
            <tr data-dd-id="riflessi/des">
              <th class="text-right"><sup>Des</sup> Riflessi</th>
              <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
            </tr>
            <tr data-dd-id="volonta/sag">
              <th class="text-right"><sup>Sag</sup> Volontà</th>
              <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
            </tr>
            <tr data-dd-id="volonta/car">
              <th class="text-right"><sup>Car</sup> Volontà</th>
              <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
            </tr>
            <tr data-dd-id="volonta/int">
              <th class="text-right"><sup>Int</sup> Volontà</th>
              <td><input type="text" data-dd-id="mod" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm"></td>
              <td><input type="text" data-dd-id="totale" class="text-right form-control form-control-sm" readonly></td>
            </tr>
          </tbody>
        </table>
      </div>

      <br>

      <div class="card">
        <div class="card-header">Spostamento</div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-8">
              <table class="table table-responsive" data-dd-id="carico">
                <thead>
                  <tr>
                    <th></th>
                    <th class="text-center">Leggero</th>
                    <th class="text-center">Medio</th>
                    <th class="text-center">Pesante</th>
                    <th class="text-center">S. sopra testa</th>
                    <th class="text-center">S. dal terreno</th>
                    <th class="text-center">Sping/trasc</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th class="text-right">Carico</th>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="leggero" class="text-right form-control form-control-sm">
                        <span class="input-group-addon">kg</span>
                      </div>
                    </td>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="medio" class="text-right form-control form-control-sm">
                        <span class="input-group-addon">kg</span>
                      </div>
                    </td>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="pesante" class="text-right form-control form-control-sm">
                        <span class="input-group-addon">kg</span>
                      </div>
                    </td>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="sopra_testa" class="text-right form-control form-control-sm" aria-describedby="aiuto_sopra_testa">
                        <span class="input-group-addon">kg</span>
                      </div>
                      <span id="aiuto_sopra_testa" class="help-block text-center">(carico max)</span>
                    </td>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="dal_terreno" class="text-right form-control form-control-sm" aria-describedby="aiuto_dal_terreno">
                        <span class="input-group-addon">kg</span>
                      </div>
                      <span id="aiuto_dal_terreno" class="help-block text-center">(carico max ×2)</span>
                    </td>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="sping_trasc" class="text-right form-control form-control-sm" aria-describedby="aiuto_spingere_trascinare">
                        <span class="input-group-addon">kg</span>
                      </div>
                      <span id="aiuto_spingere_trascinare" class="help-block text-center">(carico max ×5)</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="col-md-4">
              <table class="table table-responsive">
                <thead>
                  <tr>
                    <th class="text-center">Tot peso</th>
                    <th class="text-center">Pen armatura</th>
                    <th class="text-center">Pen nuotare</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><input type="text" data-dd-id="peso_totale" class="text-right form-control form-control-sm"></td>
                    <td><input type="text" data-dd-id="penalita_armatura" class="text-right form-control form-control-sm"></td>
                    <td><input type="text" data-dd-id="penalita_nuotare" class="text-right form-control form-control-sm"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="row">
            <div class="col-md-8 col-md-offset-2">
              <table class="table table-responsive" data-dd-id="velocita">
                <thead>
                  <tr>
                    <th></th>
                    <th class="text-center">Base</th>
                    <th class="text-center">Armatura</th>
                    <th class="text-center">Correre</th>
                    <th class="text-center">Nuotare</th>
                    <th class="text-center">Scalare</th>
                    <th class="text-center">Volare</th>
                  </tr>
                </thead>
                <tbody>
                  <tr data-dd-id="testme-row">
                    <th class="text-right">Velocità</th>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="base" class="text-right form-control form-control-sm">
                        <span class="input-group-addon">m</span>
                      </div>
                    </td>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm">
                        <span class="input-group-addon">m</span>
                      </div>
                    </td>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="correre" class="text-right form-control form-control-sm">
                        <span class="input-group-addon">m</span>
                      </div>
                    </td>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="nuotare" class="text-right form-control form-control-sm">
                        <span class="input-group-addon">m</span>
                      </div>
                    </td>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="scalare" class="text-right form-control form-control-sm">
                        <span class="input-group-addon">m</span>
                      </div>
                    </td>
                    <td>
                      <div class="input-group">
                        <input type="text" data-dd-id="volare" class="text-right form-control form-control-sm">
                        <span class="input-group-addon">m</span>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <br>

      <div class="card">
        <div class="card-header">Note</div>
        <textarea data-dd-id="note" class="card-body form-control"></textarea>
      </div>


    </div>
  </body>
</html>